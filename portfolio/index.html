<script>
  fetch('projects.json')
    .then(res => res.json())
    .then(data => {
      const grid = document.getElementById('portfolio-grid');
      data.forEach(project => {
        const card = document.createElement('div');
        card.className = 'project-card';
        card.dataset.type = project.type;
        card.innerHTML = `
          <div class="type-badge">${project.type}</div>
          <img src="../icons/${project.type}.svg" alt="${project.name}">
          <h3>${project.name}</h3>
          <p>${project.description || ''}</p>
          <a href="${project.url}" target="_blank" class="btn">View</a>
        `;
        grid.appendChild(card);
        setTimeout(() => card.classList.add('visible'), 100); // fade-in effect
      });

      const buttons = document.querySelectorAll('.portfolio-filters button');
      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          buttons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');

          const filter = btn.dataset.filter;
          const cards = document.querySelectorAll('.project-card');
          cards.forEach(card => {
            if(filter === 'all' || card.dataset.type === filter) {
              card.style.display = 'block';
              setTimeout(() => card.classList.add('visible'), 50);
            } else {
              card.style.display = 'none';
              card.classList.remove('visible');
            }
          });
        });
      });
    });
</script>
